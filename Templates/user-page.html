{% extends 'base.html' %}

{% block title %}
User Page
{% endblock %}

{% block header %}
{{ user.first_name }} {{ user.last_name }}
{% endblock %}

{% block content %}
<div>
    <div>
        <label>Username: </label>
        <span>
            {{ user.username }}
        </span>
    </div>
    <div>
        <label>Full Name: </label>
        <span>
            {{ user.first_name }} {{ user.last_name }}
        </span>
    </div>
    <div>
        <label>Email: </label>
        <span>
            {{ user.email }}
        </span>
    </div>
</div>

<div>

    <div>
      <h2>Feedback</h2>
      <ul>
        {% for feedback in user.feedback %}
        <li>
          {{ feedback.title }}
          <small>{{ feedback.content }}</small>
        </li>
  
        <form>
          <button formmethod="GET" formaction="/feedback/{{ feedback.id }}/update">Edit</button>
          <button formmethod="POST" formaction="/feedback/{{ feedback.id }}/delete">Delete</button>
        </form>
        {% endfor %}

      </ul>

      <p>
        <a href="/users/{{ user.username }}/feedback/new">Add feedback</a>
      </p>
  
      <form>
        <button formaction="/users/{{ user.username }}/delete" formmethod="POST">Delete User</button>
      </form>
    </div>
  </div>
{% endblock %}